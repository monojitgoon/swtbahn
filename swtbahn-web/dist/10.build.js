webpackJsonp([10],{261:function(t,e,s){"use strict";var a=s(15),r=s.n(a),o=s(22),i=s(40),n=s.n(i);e.a={name:"routerequests",components:{},data:function(){return{routerequest:{grabid:null,path:"",status:""},submitted:!1,showModal:!1,selectedtrainID:null}},computed:r()({},Object(o.c)({controller:function(t){return t.controller},alert:function(t){return t.alert}})),beforeDestroy:function(){clearInterval(this.controller.controllerRequestInterval)},mounted:function(){var t=this;this.GetControllerRouteRequest(),this.controller.controllerRequestInterval=setInterval(function(){t.GetControllerRouteRequest()},n.a.controller_routes_RequestInterval)},methods:r()({},Object(o.b)("controller",["GetControllerRouteRequest","updateRouteRequest"]),Object(o.b)("alert",["error","clear"]),{AcceptRouteHandler:function(t,e){this.selectedtrainID=e,this.showModal=!0,this.routerequest.grabid=t,this.routerequest.path=""},handleSubmit:function(t){var e=this;this.submitted=!0,this.$validator.validate().then(function(t){t&&(e.routerequest.status="Accepted",e.updateRouteRequest({routerequest:e.routerequest}))})},RejectRouteHandler:function(t){1==confirm("Are you sure to reject this route?")&&(this.routerequest.grabid=t,this.routerequest.path="",this.routerequest.status="Rejected",this.updateRouteRequest({routerequest:this.routerequest}))}})}},282:function(t,e,s){"use strict";var a=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"row"},[s("div",{staticClass:"col-xs-12 col-md-12"},[s("card",{attrs:{"header-text":"Route Requests"}},[s("div",{staticClass:"table-responsive"},[s("table",{staticClass:"table table-striped first-td-padding"},[s("thead",[s("tr",[s("td",[t._v("Train Name")]),t._v(" "),s("td",[t._v("Starting Segment")]),t._v(" "),s("td",[t._v("Ending Segment")]),t._v(" "),s("td",[t._v("Path Details")]),t._v(" "),s("td",[t._v("Status")]),t._v(" "),s("td",[t._v("Accept")]),t._v(" "),s("td",[t._v("Reject")])])]),t._v(" "),s("tbody",t._l(this.controller.controllerRouteRequestArray,function(e){return s("tr",{key:e.grabid},[s("td",[t._v(t._s(e.trainid))]),t._v(" "),s("td",[t._v(t._s(e.startingsegment))]),t._v(" "),s("td",[t._v(t._s(e.endingsegment))]),t._v(" "),s("td",[t._v(t._s(e.path))]),t._v(" "),s("td",[t._v(t._s(e.status))]),t._v(" "),s("td",[s("input",{staticClass:"btn btn-success",attrs:{type:"submit",value:"Accept Route"},on:{click:function(s){t.AcceptRouteHandler(e.grabid,e.trainid)}}})]),t._v(" "),s("td",[s("input",{staticClass:"btn btn-success",attrs:{type:"submit",value:"Reject Route"},on:{click:function(s){t.RejectRouteHandler(e.grabid)}}})])])}),0)])])])],1),t._v(" "),s("basix-modal",{directives:[{name:"show",rawName:"v-show",value:t.showModal,expression:"showModal"}]},[s("h4",{attrs:{slot:"title"},slot:"title"},[t._v("Train Name :"+t._s(this.selectedtrainID))]),t._v(" "),s("form",{on:{submit:function(e){return e.preventDefault(),t.handleSubmit(e)}}},[s("card",{attrs:{"header-text":"Path Details"}},[t.alert.message?s("div",{class:"alert "+t.alert.type},[t._v(t._s(t.alert.message))]):t._e(),t._v(" "),s("div",{staticClass:"form-group"},[s("div",{staticClass:"input-group"},[s("div",{staticClass:"input-group-addon"},[s("i",{staticClass:"fa fa-puzzle-piece"})]),t._v(" "),s("textarea",{directives:[{name:"model",rawName:"v-model",value:t.routerequest.path,expression:"routerequest.path"},{name:"validate",rawName:"v-validate",value:"required",expression:"'required'"}],staticClass:"form-control",class:{"is-invalid":t.submitted&&t.errors.has("path")},attrs:{name:"textarea-input",id:"textarea-input",rows:"9",placeholder:"Path Details..."},domProps:{value:t.routerequest.path},on:{input:function(e){e.target.composing||t.$set(t.routerequest,"path",e.target.value)}}}),t._v(" "),t.submitted&&t.errors.has("path")?s("div",{staticClass:"invalid-feedback"},[t._v(t._s(t.errors.first("path")))]):t._e()])])]),t._v(" "),s("div",{staticClass:"form-actions form-group"},[s("button",{staticClass:"btn btn-primary btn-sm",attrs:{type:"submit"},on:{click:function(e){t.showModal=!1}}},[s("i",{staticClass:"fa fa-dot-circle-o"}),t._v(" Accept\n        ")]),t._v(" "),s("button",{staticClass:"btn btn-danger btn-sm",attrs:{type:"reset"},on:{click:function(e){t.showModal=!1}}},[s("i",{staticClass:"fa fa-ban"}),t._v(" Exit\n        ")])])],1),t._v(" "),s("div",{directives:[{name:"show",rawName:"v-show",value:!1,expression:"false"}],attrs:{slot:"footer"},slot:"footer"})])],1)},r=[],o={render:a,staticRenderFns:r};e.a=o},92:function(t,e,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var a=s(261),r=s(282),o=s(0),i=o(a.a,r.a,!1,null,null,null);e.default=i.exports}});
//# sourceMappingURL=10.build.js.map